# railway.toml
# Configuración generada según https://docs.railway.com/guides/config-as-code

[build]
# Comandos de construcción para Laravel + Vite
commands = [
  "composer install --no-dev --optimize-autoloader",
  "npm install",
  "npm run build"
]

[deploy]
# Pasos que se ejecutan antes de iniciar la app
preDeployCommands = [
  "php artisan migrate --force",
  "php artisan optimize",
  "php artisan storage:link || true"
]

# Comando de inicio
startCommand = "php artisan serve --host=0.0.0.0 --port=8080"

# Variables de entorno recomendadas

# Si deseas agregar variables sensibles aquí, usa secrets
